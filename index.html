<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Index</h1>
    
    


    


    <h3> </h3>









    




    <section>
        <article><h1>Evan</h1>

<p><em>Universal events</em></p>

<p>Evan implements a general eventing system in which any object that can be represented by a path (typically in an hierarchical, tree-like structure like the DOM) may trigger and capture events.</p>

<p>Evan is based on <a href="https://github.com/production-minds/troop">Troop</a> for OOP and <a href="https://github.com/danstocker/sntls">Sntls</a> for collections.</p>

<p><a href="https://github.com/danstocker/evan/wiki">Wiki</a></p>

<p><a href="http://danstocker.github.io/evan/">Reference</a></p>

<h2>Features</h2>

<ul><li>Subscription and unsubscription</li><li>Event bubbling</li><li>Delegation (capturing closer to the root than the actually observed node)</li><li>Broadcasting (triggering many subscribed paths at once)</li><li>Evented behavior to be assigned to classes and instances. Most of the event management will be done through this, as the tutorial below illustrates.</li></ul>

<h2>Tutorial</h2>

<p>The following [example](http://jsfiddle.net/danstocker/Hw8Ya/
) creates an evented class, endows it and its instances with evented properties, then triggers an event on the instance. Right below it&#39;s presented in its entirety, followed by a step by step explanation.</p>

<pre><code>var eventSpace = evan.EventSpace.create(),
    MyClass = troop.Base.extend()
        .addTrait(evan.Evented)
        .setEventSpace(eventSpace)
        .setEventPath(&#39;test&#39;.toPath())
        .addMethods({
            init: function (path) {
                this.setEventPath(path);
            }
        })
        .subscribeTo(&#39;myEvent&#39;, function (event) {
            console.log(&quot;event triggered&quot;, event.clone());
        });

var myInstance = MyClass.create(&#39;test&gt;path&gt;foo&#39;.toPath());

myInstance.triggerSync(&#39;myEvent&#39;);</code></pre>

<p><strong>Step by step</strong></p>

<p>First, we created an event space for the class. Events will traverse within the confines of this space. Events cannot cross between spaces.</p>

<pre><code>var eventSpace = evan.EventSpace.create(),</code></pre>

<p>Then, we created a new class ...</p>

<pre><code>MyClass = troop.Base.extend()</code></pre>

<p>... and added the evented behavior as a Troop trait.</p>

<pre><code>.addTrait(evan.Evented)</code></pre>

<p>Then, we assign the event space and a path that represents the whole class.</p>

<pre><code>.setEventSpace(eventSpace)
.setEventPath(&#39;test&#39;.toPath())</code></pre>

<p>Then added an <code>init</code> method, which takes an individual path specific to the instance and applies it to it.</p>

<pre><code>this.setEventPath(path);</code></pre>

<p>Building the class is concluded by adding an event handler that is supposed to capture all &#39;myEvent&#39; events that concern this class. The handler logs the event to the console. (The event is cloned because when an event has finished traversing the event space it will reset.)</p>

<pre><code>.subscribeTo(&#39;myEvent&#39;, function (event) {
    console.log(&quot;event triggered&quot;, event.clone());
});</code></pre>

<p>Now, to try how this works on an instance, we need to instantiate the class. Instances must have paths relative to the class path or instantiation will fail.</p>

<pre><code>var myInstance = MyClass.create(&#39;test&gt;path&gt;foo&#39;.toPath());</code></pre>

<p>Finally, we trigger an event on the instance.</p>

<pre><code>myInstance.triggerSync(&#39;myEvent&#39;);</code></pre>

<p>This will trigger the event handler we applied to it statically on the class, but within the handler, while <code>event.currentPath.asArray</code> will say <code>[&#39;test&#39;,&#39;path&#39;]</code>, <code>event.originalPath.asArray</code> will say <code>[&#39;test&#39;,&#39;path&#39;,&#39;foo&#39;]</code>, as implied by the path we assigned to the instance.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="evan.Event.html">Event</a></li><li><a href="evan.EventCollection.html">EventCollection</a></li><li><a href="evan.Evented.html">Evented</a></li><li><a href="evan.EventSpace.html">EventSpace</a></li><li><a href="evan.PathCollection.html">PathCollection</a></li></ul><h3>Namespaces</h3><ul><li><a href="evan.html">evan</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Sat Jul 05 2014 13:32:44 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
